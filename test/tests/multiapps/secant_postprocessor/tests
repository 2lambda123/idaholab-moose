[Tests]
  [pp]
    requirement = "The system shall allow multiapp simulations coupled by a postprocessor transfer using the Secant method"
    [test_rerun]
      type = 'CSVDiff'
      input = 'transient_main.i'
      csvdiff = 'transient_main_out.csv transient_main_out_sub0.csv'
      design = 'multiapps/TransientMultiApp.md'
      issues = '#2116 #17479'
      cli_args = 'Executioner/coupling_max_its=5 Executioner/coupling_abs_tol=1e-10'
      detail = 'for transient problems with a failed timestep,'
    []
    [iteration_adaptive]
      type = 'CSVDiff'
      input = 'transient_main.i'
      csvdiff = 'adaptive_transient_main_out.csv adaptive_transient_main_out_sub0.csv'
      cli_args = 'Executioner/TimeStepper/type=IterationAdaptiveDT Executioner/TimeStepper/dt=0.1 Executioner/TimeStepper/optimal_iterations=6 Executioner/TimeStepper/growth_factor=1.2 Executioner/TimeStepper/cutback_factor=0.4 Outputs/file_base=adaptive_transient_main_out'
      design = 'timesteppers/IterationAdaptiveDT.md'
      issues = '#2116 #10311 #17479'
      detail = 'for transient problems with adaptive timestepping,'
    []

    [steady]
      type = 'CSVDiff'
      input = 'steady_main.i'
      csvdiff = 'steady_main_out.csv steady_main_out_sub0.csv'
      recover = false
      design = 'multiapps/FullSolveMultiApp.md'
      issues = '#9038 #17479'
      allow_unused = true
      detail = 'for steady state problems,'
    []

    [steady_with_pseudo_transient_sub]
      type = 'CSVDiff'
      input = 'steady_main.i'
      csvdiff = 'steady_with_pseudo_transient.csv steady_with_pseudo_transient_sub0.csv'
      recover = false
      design = 'multiapps/FullSolveMultiApp.md'
      issues = '#9038 #17479'
      cli_args = "Outputs/file_base=steady_with_pseudo_transient MultiApps/sub/input_files='transient_sub.i'"
      detail = 'for steady state problems coupled with pseudo-transient multiapps,'
    []

    [sub_cycling]
      type = 'CSVDiff'
      input = 'transient_main.i'
      csvdiff = 'sub_cycling_out.csv sub_cycling_out_sub0.csv'
      design = 'multiapps/TransientMultiApp.md'
      issues = '#2116 #17479'
      cli_args = "MultiApps/sub/cli_args='Executioner/dt=0.05' Outputs/file_base=sub_cycling_out"
      detail = 'for transient problems coupled with a subapp using a smaller timestep,'
    []

    [app_begin_transfers_begin]
      type = 'CSVDiff'
      input = 'transient_main.i'
      csvdiff = 'app_begin_transfer_begin.csv app_begin_transfer_begin_sub0.csv'
      design = 'multiapps/TransientMultiApp.md'
      issues = '#2116 #17479'
      cli_args = 'Transfers/left_from_sub/execute_on=timestep_begin Transfers/right_to_sub/execute_on=timestep_begin Outputs/file_base=app_begin_transfer_begin'
      detail = 'for transient problems with the sub-app and the postprocessor transfers executed at the beginning of each time step,'
    []

    [app_begin_transfers_end]
      type = 'CSVDiff'
      input = 'transient_main.i'
      csvdiff = 'app_begin_transfer_end.csv app_begin_transfer_end_sub0.csv'
      design = 'multiapps/TransientMultiApp.md'
      issues = '#2116 #17479'
      allow_warnings = true
      cli_args = 'Transfers/left_from_sub/execute_on=timestep_end Transfers/right_to_sub/execute_on=timestep_end Outputs/file_base=app_begin_transfer_end'
      detail = 'for transient problems with the sub-app executed at the beginning of each time step and postprocessor transfers executed at the end of each timestep,'
    []

    [app_end_transfers_begin]
      type = 'CSVDiff'
      input = 'transient_main.i'
      csvdiff = 'app_end_transfer_begin.csv app_end_transfer_begin_sub0.csv'
      design = 'multiapps/TransientMultiApp.md'
      issues = '#2116 #17479'
      allow_warnings = true
      cli_args = 'MultiApps/sub/execute_on=timestep_end Transfers/left_from_sub/execute_on=timestep_begin Transfers/right_to_sub/execute_on=timestep_begin Outputs/file_base=app_end_transfer_begin'
      detail = 'for transient problems with the sub-app executed at the end of each time step and postprocessor transfers executed at the beginning of each timestep,'
    []

    [app_end_transfers_end]
      type = 'CSVDiff'
      input = 'transient_main.i'
      csvdiff = 'app_end_transfer_end.csv app_end_transfer_end_sub0.csv'
      design = 'multiapps/TransientMultiApp.md'
      issues = '#2116 #17479'
      cli_args = 'MultiApps/sub/execute_on=timestep_end Transfers/left_from_sub/execute_on=timestep_end Transfers/right_to_sub/execute_on=timestep_end Outputs/file_base=app_end_transfer_end'
      detail = 'and for transient problems with the sub-app and the postprocessor transfers executed at the end of each time step.'
    []

    [app_begin_transfers_begin_secant_sub]
      type = 'CSVDiff'
      input = 'transient_main.i'
      csvdiff = 'app_begin_transfer_begin_secant_sub.csv app_begin_transfer_begin_secant_sub_sub0.csv'
      design = 'multiapps/TransientMultiApp.md'
      issues = '#2116 #17479'
      cli_args = "Outputs/file_base=app_begin_transfer_begin_secant_sub Executioner/transformed_postprocessors='' MultiApps/sub/transformed_postprocessors='from_main'"
      detail = 'for updating the subapp postprocessor for transient problems with the sub-app and the variable transfers executed at the beginning of each time step,'
    []

    [app_begin_transfers_end_secant_sub]
      type = 'CSVDiff'
      input = 'transient_main.i'
      csvdiff = 'app_begin_transfer_end_secant_sub.csv app_begin_transfer_end_secant_sub_sub0.csv'
      design = 'multiapps/TransientMultiApp.md'
      issues = '#2116 #17479'
      allow_warnings = true
      cli_args = "Transfers/left_from_sub/execute_on=timestep_end Transfers/right_to_sub/execute_on=timestep_end Executioner/transformed_postprocessors='' MultiApps/sub/transformed_postprocessors='from_main' Outputs/file_base=app_begin_transfer_end_secant_sub"
      detail = 'for updating the subapp postprocessor for transient problems with the sub-app executed at the beginning of each time step and variable transfers executed at the end of each timestep,'
    []

    [app_end_transfers_begin_secant_sub]
      type = 'CSVDiff'
      input = 'transient_main.i'
      csvdiff = 'app_end_transfer_begin_secant_sub.csv app_end_transfer_begin_secant_sub_sub0.csv'
      design = 'multiapps/TransientMultiApp.md'
      issues = '#2116 #17479'
      allow_warnings = true
      cli_args = "MultiApps/sub/execute_on=timestep_end Transfers/left_from_sub/execute_on=timestep_begin Transfers/right_to_sub/execute_on=timestep_begin Executioner/transformed_postprocessors='' MultiApps/sub/transformed_postprocessors='from_main' Outputs/file_base=app_end_transfer_begin_secant_sub"
      detail = 'for updating the subapp postprocessor for transient problems with the sub-app executed at the end of each time step and variable transfers executed at the beginning of each timestep,'
    []

    [app_end_transfers_end_secant_sub]
      type = 'CSVDiff'
      input = 'transient_main.i'
      csvdiff = 'app_end_transfer_end_secant_sub.csv app_end_transfer_end_secant_sub_sub0.csv'
      design = 'multiapps/TransientMultiApp.md'
      issues = '#2116 #17479'
      allow_warnings = true
      cli_args = "MultiApps/sub/execute_on=timestep_end Transfers/left_from_sub/execute_on=timestep_end Transfers/right_to_sub/execute_on=timestep_end Executioner/transformed_postprocessors='' MultiApps/sub/transformed_postprocessors='from_main' Outputs/file_base=app_end_transfer_end_secant_sub"
      detail = 'and for updating the subapp postprocessor for transient problems with the sub-app and the variable transfers executed at the end of each time step.'
    []
  []
[]
