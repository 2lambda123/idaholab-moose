[Tests]
  [run]
    requirement = "The system shall be able to "
    issues = '#19571'
    design = 'LibtorchNeuralNetControl.md'
    [torch-script]
      type = CSVDiff
      input = read_torchscript_control.i
      csvdiff = torch_script_read_T_reporter_0026.csv
      cli_args = "Controls/src_control/filename='model_2.pt'
                  Controls/src_control/torch_script_format=true
                  Controls/src_control/input_timesteps=2
                  Outputs/file_base='torch_script_read'"
      detail = "read a neural network from a torchscript file and use it to control a transient process."
      libtorch = true
    []
    [without-nn]
      type = CSVDiff
      input = read_torchscript_control.i
      csvdiff = run_wo_nn_T_reporter_0026.csv
      cli_args = "Outputs/file_base='run_wo_nn'"
      detail = "run with a libtorch controller without having a neural net initialized in it."
      libtorch = true
    []
  []
  [errors]
    issues = '#19571'
    design = 'LibtorchNeuralNetControl.md'
    requirement = "The system shall throw an error "
    [invalid-with-torchscript]
      type = RunException
      input = read_torchscript_control.i
      cli_args = "Controls/src_control/filename='model_2.pt'
                  Controls/src_control/torch_script_format=true
                  Controls/src_control/input_timesteps=2
                  Controls/src_control/num_neurons_per_layer='3 3'"
      expect_err = "This parameter should not be defined when filename is defined!"
      detail = "forbidden parameters are defined while reading a neural network from a torchscript file."
      libtorch = true
    []
  []
[]
