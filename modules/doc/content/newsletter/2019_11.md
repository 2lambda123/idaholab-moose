# MOOSE Newsletter (November 2019)

## Mesh MetaData Store

MOOSE has gained a new feature that makes it easier to manage mesh related attributes during
simulation setup, namely the mesh "MetaData" Store. The purpose of this object is to hold any
kind of attribute or property that a developer may wish to publish about the mesh for use in
other objects.

There are a few reasons why you may want to use the MetaData store:

 - No need to dynamic cast the underlying mesh object to gain access to methods or attributes.
 - Solves the problem of not having access to [MeshGenerator](MeshGenerators/index.md) during
   [recover](restart_recover.md).
 - No need to handle getting parameters from the mesh differently for normal startup vs recover runs.

Storing properties in the store means that you won't have to dynamic cast the underlying mesh
object to get access to specific APIs or properties on your mesh. Another benefit of using the
store is that you don't have to treat your normal simulation and [recover](restart_recover.md)
simulations any differently from one and other. You'll be able to retrieve properties the same
way in either case simplifying your startup code. This makes a lot of difference if you are
using the MeshGeneration system to build your mesh programatically. The MetaData store is
populated very early on recover runs so the data is available during the execution of any
custom Actions that you might create.

## libpng detection test has moved to MOOSE's configure

Does anyone remember when MOOSE got a proper [configure system](build_system.md)? No? Good,
then that means we did our job correctly. The test for the existence of libpng, which was
hacked into one of the MOOSE Makefiles was moved to MOOSE's configure system for better
reliability. It turns out that the detection failed in rare cases but it was annoying to deal
with on systems where it did. Now, we run this test during configure so that we can reliably
work with or without it based on the configure result.

## MOOSE's configure system

We managed to make it 10 years without a configure script. We did this because we wanted to
keep the build process simple for our developers and we were able to delegate all of our
configure needs to libMesh's configure system. Well we finally caved and added a full-blown
configure system to MOOSE. We are using the GNU Autotools for now, but the most important part
is that nobody needs to change their work flow to accommodate the new configure script. It is
completely optional at this point and we hope to keep it that way indefinitely.

There are a few optional library configurations that you may choose to activate by running the
script yourself. You can always check out what options are available by going to the `framework`
directory and running `./configure --help`.

### Miscellaneous enhancements and bug fixes

- The TestHarness properly skips tests that require the presence of libpng.