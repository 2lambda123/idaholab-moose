[Tests]
  # physics
  [./phy:cylinder_power_shape_aux_var]
    type = 'Exodiff'
    input = 'phy.cylinder_power_shape_aux_var.i'
    exodiff = 'phy.cylinder_power_shape_aux_var_out.e'
    custom_cmp = 'phy.cylinder_power_shape_aux_var.exodiff'
  [../]
  [./phy:cylinder_power_shape_fn]
    type = 'Exodiff'
    input = 'phy.cylinder_power_shape_fn.i'
    exodiff = 'phy.cylinder_power_shape_fn_out.e'
    custom_cmp = 'phy.cylinder_power_shape_fn.exodiff'
  [../]
  [./phy:plate]
    type = 'Exodiff'
    input = 'phy.plate.i'
    exodiff = 'phy.plate_out.e'
    custom_cmp = 'phy.plate.exodiff'
  [../]
  [./phy:conservation_plate]
    type = CSVDiff
    input = 'phy.conservation_cylinder.i'
    csvdiff = 'phy.conservation_plate.csv'
    rel_err = 1e-8
    cli_args = "
      Components/heat_structure/type=HeatStructurePlate
      Components/heat_structure/depth=2
      Postprocessors/E_tot/type=HeatStructureEnergy
      Postprocessors/E_tot/plate_depth=2
      Outputs/file_base=phy.conservation_plate"
    # because of output has execute_on = 'initial final'
    recover = false
  [../]
  [./phy:conservation_plate_multiple_regions]
    type = CSVDiff
    input = 'phy.conservation_cylinder_multiple_regions.i'
    csvdiff = 'phy.conservation_plate_multiple_regions.csv'
    rel_err = 1e-8
    cli_args = "
      Components/heat_structure/type=HeatStructurePlate
      Components/heat_structure/depth=2
      Postprocessors/E_tot/type=HeatStructureEnergy
      Postprocessors/E_tot/plate_depth=2
      Outputs/file_base=phy.conservation_plate_multiple_regions"
    # because output has execute_on = 'initial final'
    recover = false
  [../]
  [./phy:conservation_cylinder]
    type = CSVDiff
    input = 'phy.conservation_cylinder.i'
    csvdiff = 'phy.conservation_cylinder.csv'
    cli_args = "
      Components/heat_structure/type=HeatStructureCylindrical
      Components/heat_structure/inner_radius=1.0
      Postprocessors/E_tot/axis_point='0 1 0'
      Postprocessors/E_tot/axis_dir='1 0 0'"
    rel_err = 1e-8
    # because of output has execute_on = 'initial final'
    recover = false
  [../]
  [./phy:conservation_cylinder_multiple_regions]
    type = CSVDiff
    input = 'phy.conservation_cylinder_multiple_regions.i'
    csvdiff = 'phy.conservation_cylinder_multiple_regions.csv'
    cli_args = "
      Components/heat_structure/type=HeatStructureCylindrical
      Components/heat_structure/inner_radius=1.0
      Postprocessors/E_tot/axis_point='0 1 0'
      Postprocessors/E_tot/axis_dir='1 0 0'"
    rel_err = 1e-8
    # because output has execute_on = 'initial final'
    recover = false
  [../]

  # Error checking
  [./err:no_hs]
    type = 'RunException'
    input = 'err.base.i'
    cli_args = "Components/hgen/hs=reactor Components/hgen/regions='fuel' Components/hgen/power=reactor"
    expect_err = "hgen: The component 'reactor' is not of type 'HeatStructureBase'"
  [../]
  [./err:wrong_block_name]
    type = 'RunException'
    input = 'err.base.i'
    cli_args = "Components/hgen/hs=hs Components/hgen/regions='asdf' Components/hgen/power=reactor"
    expect_err = "hgen: Region 'asdf' does not exist in heat structure 'hs'."
  [../]
  [./err:wrong_power_comp]
    type = 'RunException'
    input = 'err.base.i'
    cli_args = "Components/hgen/hs=hs Components/hgen/regions='fuel' Components/hgen/power=hs"
    expect_err = "hgen: The component 'hs' is not of type 'ReactorPower'"
  [../]
  [./err:both_power_and_power_density]
    type = 'RunException'
    input = 'err.base.i'
    cli_args = "Components/hgen/hs=hs Components/hgen/regions='fuel' Components/hgen/power=reactor Components/hgen/power_density=asdf"
    expect_err = "hgen: Only one of the parameters \{'power', 'power_density'\} can be provided"
  [../]
  [./err:neither_power_nor_power_density]
    type = 'RunException'
    input = 'err.base.i'
    cli_args = "Components/hgen/hs=hs Components/hgen/regions='fuel'"
    expect_err = "hgen: One of the parameters \{'power', 'power_density'\} must be provided"
  [../]
[]
