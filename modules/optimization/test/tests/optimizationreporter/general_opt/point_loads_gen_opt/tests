[Tests]
  issues = '#26476 #21885 #24101 #25689'
  design = 'GeneralOptimization.md OptimizationData.md ReporterPointSource.md'
  [gen_opt_point_loads]
    requirement = "The system shall be able to invert for point loads using the general optimization reporter with"
    [no_measurement_transfer]
      type = CSVDiff
      input = main_auto_adjoint.i
      absent_out = 'type: ilu'
      cli_args = '-ksp_view'
      csvdiff = 'main_out_OptimizationReporter_0001.csv main_out.csv'
      max_threads = 1 # Optimize executioner does not support multiple threads
      rel_err = 0.1
      abs_zero = 10
      # steady solve
      recover = false
      detail = 'the measurement data defined on the forward_and_adjoint app; '
    []
    [measurement_transfer]
      type = CSVDiff
      input = main_auto_adjoint_transfer_data.i
      absent_out = 'type: ilu'
      cli_args = '-ksp_view'
      csvdiff = 'main_out_OptimizationReporter_0001.csv main_out.csv'
      max_threads = 1 # Optimize executioner does not support multiple threads
      rel_err = 0.1
      abs_zero = 10
      # steady solve
      recover = false
      detail = 'the measurement data defined on the main app and transferred to the forward_and_adjoint app;'
    []
    [seperate_multiapps]
      type = CSVDiff
      input = main_seperate_multiapps.i
      absent_out = 'type: ilu'
      cli_args = '-ksp_view'
      csvdiff = 'main_out_OptimizationReporter_0001.csv main_out.csv'
      max_threads = 1 # Optimize executioner does not support multiple threads
      rel_err = 0.1
      abs_zero = 10
      # steady solve
      recover = false
      detail = 'the measurment data defined on the seperate subapps;'
    []
    [seperate_multiapps_with_reg]
      type = CSVDiff
      input = "main_seperate_multiapps.i regularization_for_main.i"
      absent_out = 'type: ilu'
      cli_args = 'Outputs/file_base=main_reg_out  measurement_points="0.5 0.28 0 0.5 1.1 0" measurement_values="293 320" -ksp_view'
      csvdiff = 'main_reg_out_OptimizationReporter_0001.csv main_reg_out.csv'
      max_threads = 1 # Optimize executioner does not support multiple threads
      rel_err = 0.1
      abs_zero = 10
      # steady solve
      recover = false
      detail = 'the measurment data defined on the seperate subapps and using regularization;'
    []
  []
[]
