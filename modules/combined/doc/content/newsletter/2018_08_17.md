# MOOSE Newsletter (August 2018)

## MooseDocs Plots

It is now possible to include line plots in MOOSE markdown. The plots are created using
[plotly]; additional information may be found on the [plotly.md] page.

```markdown
!plot scatter data=[{'x':[1,2,3,4], 'y':[2,4,6,8], 'name':'2x'},
                    {'x':[1,2,3,4], 'y':[1,4,9,16], 'name':'x*x', 'marker':{'size':14}}]
```

!plot scatter data=[{'x':[1,2,3,4], 'y':[2,4,6,8], 'name':'2x'},
                    {'x':[1,2,3,4], 'y':[1,4,9,16], 'name':'x*x', 'marker':{'size':14}}]


## Threaded General User Objects

Up until now, general user objects were executed in a single threaded region, even if the
application ran with multiple-threads.  Now, it is possible to have threaded general user objects.
Users need to inherit from `ThreadedGeneralUserObject` class and MOOSE will create one threaded
instance per thread. Then, it is possible to safely access the user object from each threaded. This
is not possible in the normal GeneralUserObject unless the access is guarded with a spin mutex.

The `fluid_properties` module was updated to use the `ThreadedGeneralUserObject` to ensure that
fluid property lookup is always thread safe without the loss of performance.

Note that `ThreadedGeneralUserObject`s are not available when users use pthreads as their threading
model. The reason is that if a `ThreadedGeneralUserObject` (which runs in a threaded region) created
a threaded section, there would be `n_threads + n_threads^2` threads active which would yield in a
performance loss.  If threaded general user objects are needed, they will run properly with OpenMP
or TBB.

[plotly]: https://plot.ly/
