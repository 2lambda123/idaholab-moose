# MOOSE Newsletter (July 2018)

## Peacock Exodus Viewer Improvements

!row!

!col! class=s12 m12 l7
The results tab of peacock ("ExodusViewer") was updated, a screenshot is shown in [fig:exodus_tab]:

- Improvements were made to make the result refresh more efficient;
- The tab was redesigned to be more compact, with less frequented controls moved to menu items;
- The min/max toggles were redesigned to be cached with each variable as well as control if the
  automatic values should be computed via the visible or complete model;
- The block selection was made more compact with a drop down control.

It is possible to run peacock as an Exodus viewer alone by using the `--exodus` or `-r` flag
from the command line.

```bash
~/projects/moose/python/peacock/peacock -r path/to/an/exodus/file/here.e
```
!col-end!

!col! class=s12 m12 l5
!media peacock/exodus_tab.png caption=Re-designed Exodus viewer tab. id=fig:exodus_tab
!col-end!

!row-end!

## Jacobian testers

The MOOSE python Jacobian test capabilities have been updated to work with PETSc
versions >= 3.9. It's worthwhile to note that users using PETSc versions >= 3.9
now have the capability to test their Jacobians at every non-linear
iteration. The old Jacobian testing capability, which used the PETSc option
`-snes_type test`, terminated application execution after one calculation of the
Jacobian. In PETSc versions >= 3.9, the `-snes_type test` option has been
removed and replaced with `-snes_test_jacobian`. With this option, MOOSE
applications will run normally and the hand-coded Jacobian will be compared
against a finite-difference at every non-linear iteration. This can be very
useful since it's difficult to capture all possible function states in an
initial condition, e.g. a good result with the old option `-snes_type test` may
lull the application developer into thinking that their Jacobian is perfect
under all circumstances when it is not.

## Relationship Managers with Presplit Meshes

[RelationshipManagers](relationship_managers.md) now work properly when using MOOSE's
[mesh splitter](splitting.md) capability. If you have a simulation that requires extra geometric
information, the RelationshipManagers are triggered during the mesh split process so that
information is available when reading in pre-split meshes.

## Bug fixes

- Fixed incorrect input file line number error reporting under certain circumstances.
- Fixed some missed cases of unused parameter tracking.
- MOOSE Errors out properly when the Executioner is accidentally left out of an input file.
- Using "--split-mesh" with a DistributedMesh now produces a useful error message.
- LayeredBase-derived objects are now restartable.

## PETSc external partitioner

PETSc `MatPartitioning` interface has been incorporated into MOOSE. The interface allows users have an unified way to
access external mesh partitioning packages such as ParMETIS, Chaco, Party, and PTScotch. The new partitioner interface,
[PetscExternalPartitioner](PetscExternalPartitioner.md),
establish a way to assign weights to elements for workload balance and to sides for communication minimization.
