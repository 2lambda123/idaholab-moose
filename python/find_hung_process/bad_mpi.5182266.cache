Host: r1i2n28 PID: 7156
Thread 2 (Thread 0x2aaab0100700 (LWP 7182)):
#0  0x00002aaaac213b5d in read () from /lib64/libc.so.6
#1  0x00002aaaad4d6906 in ibv_get_async_event () from /lib64/libibverbs.so.1
#2  0x00002aaaab4e62e2 in async_thread () at ../src/mpid/ch3/channels/mrail/src/gen2/ibv_channel_manager.c:1284
#3  0x00002aaaad8f0ea5 in start_thread () from /lib64/libpthread.so.0
#4  0x00002aaaac222b0d in clone () from /lib64/libc.so.6
Thread 1 (Thread 0x2aaaaaafac00 (LWP 7156)):
#0  0x00002aaaaf74c0ce in mlx5_poll_cq_1 () from /lib64/libmlx5-rdmav2.so
#1  0x00002aaaab4e3cc7 in ibv_poll_cq (wc=0x2aaaab857040 <wc>, num_entries=<optimized out>, cq=<optimized out>) at /usr/include/infiniband/verbs.h:1462
#2  MPIDI_CH3I_MRAILI_Cq_poll_ib (vbuf_handle=vbuf_handle@entry=0x7fffffffaf68, vc_req=vc_req@entry=0x0, receiving=receiving@entry=0, is_blocking=is_blocking@entry=1) at ../src/mpid/ch3/channels/mrail/src/gen2/ibv_channel_manager.c:1216
#3  0x00002aaaab4a6117 in MPIDI_CH3I_read_progress (vc_pptr=vc_pptr@entry=0x7fffffffaf60, v_ptr=v_ptr@entry=0x7fffffffaf68, rdmafp_found=rdmafp_found@entry=0x7fffffffaf58, is_blocking=is_blocking@entry=1) at ../src/mpid/ch3/channels/mrail/src/rdma/ch3_read_progress.c:101
#4  0x00002aaaab4a5b58 in MPIDI_CH3I_Progress (is_blocking=is_blocking@entry=1, state=state@entry=0x7fffffffafe4) at ../src/mpid/ch3/channels/mrail/src/rdma/ch3_progress.c:252
#5  0x00002aaaaaff888d in MPIC_Wait (errflag=0x7fffffffb0fc, request_ptr=0x2aaaab853ff8 <MPID_Request_direct+1432>) at ../src/mpi/coll/helper_fns.h:297
#6  MPIC_Sendrecv (sendbuf=0x0, sendcount=0, sendtype=1275068685, sendtag=<optimized out>, recvbuf=0x0, recvcount=0, recvtype=1275068685, recvtag=1, status=<synthetic pointer>, errflag=0x7fffffffb0fc, comm_ptr=0x2aaaab82fa20 <MPID_Comm_builtin>, source=1, dest=1) at ../src/mpi/coll/helper_fns.h:559
#7  MPIR_Pairwise_Barrier_MV2 (comm_ptr=comm_ptr@entry=0x2aaaab82fa20 <MPID_Comm_builtin>, errflag=errflag@entry=0x7fffffffb0fc) at ../src/mpi/coll/barrier_osu.c:86
#8  0x00002aaaaaff922a in MPIR_Barrier_intra_MV2 (comm_ptr=<optimized out>, errflag=0x7fffffffb0fc) at ../src/mpi/coll/barrier_osu.c:446
#9  0x00002aaaaaff9c69 in MPIR_Barrier_MV2 (comm_ptr=<optimized out>, errflag=<optimized out>) at ../src/mpi/coll/barrier_osu.c:470
#10 0x00002aaaaaf70f83 in MPIR_Barrier_impl (comm_ptr=<optimized out>, errflag=errflag@entry=0x7fffffffb0fc) at ../src/mpi/coll/barrier.c:329
#11 0x00002aaaab3e215d in PMPI_Finalize () at ../src/mpi/init/finalize.c:273
#12 0x0000000000401451 in main (argc=<optimized out>, argv=<optimized out>) at bad_mpi.cpp:55
****************************************************************************************************************************************************************

Host: r1i2n28 PID: 7154
Thread 2 (Thread 0x2aaab0100700 (LWP 7179)):
#0  0x00002aaaac213b5d in read () from /lib64/libc.so.6
#1  0x00002aaaad4d6906 in ibv_get_async_event () from /lib64/libibverbs.so.1
#2  0x00002aaaab4e62e2 in async_thread () at ../src/mpid/ch3/channels/mrail/src/gen2/ibv_channel_manager.c:1284
#3  0x00002aaaad8f0ea5 in start_thread () from /lib64/libpthread.so.0
#4  0x00002aaaac222b0d in clone () from /lib64/libc.so.6
Thread 1 (Thread 0x2aaaaaafac00 (LWP 7154)):
#0  0x00002aaaad8f5573 in pthread_spin_lock () from /lib64/libpthread.so.0
#1  0x00002aaaaf74c026 in mlx5_poll_cq_1 () from /lib64/libmlx5-rdmav2.so
#2  0x00002aaaab4e3cc7 in ibv_poll_cq (wc=0x2aaaab857040 <wc>, num_entries=<optimized out>, cq=<optimized out>) at /usr/include/infiniband/verbs.h:1462
#3  MPIDI_CH3I_MRAILI_Cq_poll_ib (vbuf_handle=vbuf_handle@entry=0x7fffffffab68, vc_req=vc_req@entry=0x0, receiving=receiving@entry=0, is_blocking=is_blocking@entry=1) at ../src/mpid/ch3/channels/mrail/src/gen2/ibv_channel_manager.c:1216
#4  0x00002aaaab4a6117 in MPIDI_CH3I_read_progress (vc_pptr=vc_pptr@entry=0x7fffffffab60, v_ptr=v_ptr@entry=0x7fffffffab68, rdmafp_found=rdmafp_found@entry=0x7fffffffab58, is_blocking=is_blocking@entry=1) at ../src/mpid/ch3/channels/mrail/src/rdma/ch3_read_progress.c:101
#5  0x00002aaaab4a5b58 in MPIDI_CH3I_Progress (is_blocking=is_blocking@entry=1, state=state@entry=0x7fffffffac2c) at ../src/mpid/ch3/channels/mrail/src/rdma/ch3_progress.c:252
#6  0x00002aaaaaf7578d in MPIC_Wait (errflag=0x7fffffffb03c, request_ptr=0x2aaaab853ff8 <MPID_Request_direct+1432>) at ../src/mpi/coll/helper_fns.h:297
#7  MPIC_Recv (tag=2, errflag=0x7fffffffb03c, status=0x7fffffffac40, comm_ptr=0x2aaaab82e660 <MPID_Comm_direct>, source=<optimized out>, datatype=1275069445, count=1, buf=0x7fffffffb08c) at ../src/mpi/coll/helper_fns.h:427
#8  MPIR_Bcast_binomial (buffer=0x7fffffffb08c, count=count@entry=1, datatype=datatype@entry=1275069445, root=root@entry=0, comm_ptr=comm_ptr@entry=0x2aaaab82e660 <MPID_Comm_direct>, errflag=errflag@entry=0x7fffffffb03c) at ../src/mpi/coll/bcast.c:247
#9  0x00002aaaaaf75da6 in MPIR_Bcast_intra (buffer=buffer@entry=0x7fffffffb08c, count=count@entry=1, datatype=datatype@entry=1275069445, root=root@entry=0, comm_ptr=0x2aaaab82e660 <MPID_Comm_direct>, errflag=errflag@entry=0x7fffffffb03c) at ../src/mpi/coll/bcast.c:1291
#10 0x00002aaaab003854 in MPIR_Bcast_index_tuned_intra_MV2 (buffer=0x7fffffffb08c, count=1, datatype=1275069445, root=0, comm_ptr=comm_ptr@entry=0x2aaaab82e660 <MPID_Comm_direct>, errflag=0x7fffffffb03c) at ../src/mpi/coll/bcast_osu.c:2763
#11 0x00002aaaab0005a9 in MPIR_Bcast_MV2 (buf=<optimized out>, count=<optimized out>, datatype=<optimized out>, root=<optimized out>, comm_ptr=0x2aaaab82e660 <MPID_Comm_direct>, errflag=<optimized out>) at ../src/mpi/coll/bcast_osu.c:3184
#12 0x00002aaaaaf760a4 in MPIR_SMP_Bcast (errflag=0x40, comm_ptr=<optimized out>, root=0, datatype=0, count=1, buffer=<optimized out>) at ../src/mpi/coll/bcast.c:1097
#13 MPIR_Bcast_intra (buffer=buffer@entry=0x7fffffffb08c, count=count@entry=1, datatype=datatype@entry=1275069445, root=root@entry=0, comm_ptr=<optimized out>, errflag=errflag@entry=0x7fffffffb03c) at ../src/mpi/coll/bcast.c:1253
#14 0x00002aaaab003854 in MPIR_Bcast_index_tuned_intra_MV2 (buffer=0x7fffffffb08c, count=1, datatype=1275069445, root=0, comm_ptr=comm_ptr@entry=0x2aaaab82fa20 <MPID_Comm_builtin>, errflag=0x7fffffffb03c) at ../src/mpi/coll/bcast_osu.c:2763
#15 0x00002aaaab0005a9 in MPIR_Bcast_MV2 (buf=<optimized out>, count=<optimized out>, datatype=<optimized out>, root=<optimized out>, comm_ptr=0x2aaaab82fa20 <MPID_Comm_builtin>, errflag=<optimized out>) at ../src/mpi/coll/bcast_osu.c:3184
#16 0x00002aaaaaf7768b in MPIR_Bcast_impl (buffer=buffer@entry=0x7fffffffb08c, count=count@entry=1, datatype=datatype@entry=1275069445, root=root@entry=0, comm_ptr=comm_ptr@entry=0x2aaaab82fa20 <MPID_Comm_builtin>, errflag=errflag@entry=0x7fffffffb03c) at ../src/mpi/coll/bcast.c:1449
#17 0x00002aaaaaf77c91 in PMPI_Bcast () at ../src/mpi/coll/bcast.c:1590
#18 0x0000000000400e85 in some_here (rank=1) at bad_mpi.cpp:11
#19 0x0000000000401131 in some_there (stack_depth=@0x7fffffffb168: 1) at bad_mpi.cpp:26
#20 0x0000000000401375 in specific_stack_hang (stack_depth=@0x7fffffffb168: 1, counter=counter@entry=0) at bad_mpi.cpp:95
#21 0x000000000040144c in main (argc=<optimized out>, argv=<optimized out>) at bad_mpi.cpp:53
****************************************************************************************************************************************************************

Host: r1i2n28 PID: 7153
Thread 2 (Thread 0x2aaab0100700 (LWP 7181)):
#0  0x00002aaaac213b5d in read () from /lib64/libc.so.6
#1  0x00002aaaad4d6906 in ibv_get_async_event () from /lib64/libibverbs.so.1
#2  0x00002aaaab4e62e2 in async_thread () at ../src/mpid/ch3/channels/mrail/src/gen2/ibv_channel_manager.c:1284
#3  0x00002aaaad8f0ea5 in start_thread () from /lib64/libpthread.so.0
#4  0x00002aaaac222b0d in clone () from /lib64/libc.so.6
Thread 1 (Thread 0x2aaaaaafac00 (LWP 7153)):
#0  MPIDI_CH3I_Progress (is_blocking=is_blocking@entry=1, state=state@entry=0x7fffffffafe4) at ../src/mpid/ch3/channels/mrail/src/rdma/ch3_progress.c:457
#1  0x00002aaaaaff888d in MPIC_Wait (errflag=0x7fffffffb0fc, request_ptr=0x2aaaab853ff8 <MPID_Request_direct+1432>) at ../src/mpi/coll/helper_fns.h:297
#2  MPIC_Sendrecv (sendbuf=0x0, sendcount=0, sendtype=1275068685, sendtag=<optimized out>, recvbuf=0x0, recvcount=0, recvtype=1275068685, recvtag=1, status=<synthetic pointer>, errflag=0x7fffffffb0fc, comm_ptr=0x2aaaab82fa20 <MPID_Comm_builtin>, source=1, dest=1) at ../src/mpi/coll/helper_fns.h:559
#3  MPIR_Pairwise_Barrier_MV2 (comm_ptr=comm_ptr@entry=0x2aaaab82fa20 <MPID_Comm_builtin>, errflag=errflag@entry=0x7fffffffb0fc) at ../src/mpi/coll/barrier_osu.c:86
#4  0x00002aaaaaff922a in MPIR_Barrier_intra_MV2 (comm_ptr=<optimized out>, errflag=0x7fffffffb0fc) at ../src/mpi/coll/barrier_osu.c:446
#5  0x00002aaaaaff9c69 in MPIR_Barrier_MV2 (comm_ptr=<optimized out>, errflag=<optimized out>) at ../src/mpi/coll/barrier_osu.c:470
#6  0x00002aaaaaf70f83 in MPIR_Barrier_impl (comm_ptr=<optimized out>, errflag=errflag@entry=0x7fffffffb0fc) at ../src/mpi/coll/barrier.c:329
#7  0x00002aaaab3e215d in PMPI_Finalize () at ../src/mpi/init/finalize.c:273
#8  0x0000000000401451 in main (argc=<optimized out>, argv=<optimized out>) at bad_mpi.cpp:55
****************************************************************************************************************************************************************

Host: r1i2n28 PID: 7155
Thread 2 (Thread 0x2aaab0100700 (LWP 7180)):
#0  0x00002aaaac213b5d in read () from /lib64/libc.so.6
#1  0x00002aaaad4d6906 in ibv_get_async_event () from /lib64/libibverbs.so.1
#2  0x00002aaaab4e62e2 in async_thread () at ../src/mpid/ch3/channels/mrail/src/gen2/ibv_channel_manager.c:1284
#3  0x00002aaaad8f0ea5 in start_thread () from /lib64/libpthread.so.0
#4  0x00002aaaac222b0d in clone () from /lib64/libc.so.6
Thread 1 (Thread 0x2aaaaaafac00 (LWP 7155)):
#0  0x00002aaaac1b3a00 in __memset_sse2 () from /lib64/libc.so.6
#1  0x00002aaaab4e3cae in MPIDI_CH3I_MRAILI_Cq_poll_ib (vbuf_handle=vbuf_handle@entry=0x7fffffffaf68, vc_req=vc_req@entry=0x0, receiving=receiving@entry=0, is_blocking=is_blocking@entry=1) at ../src/mpid/ch3/channels/mrail/src/gen2/ibv_channel_manager.c:1215
#2  0x00002aaaab4a6117 in MPIDI_CH3I_read_progress (vc_pptr=vc_pptr@entry=0x7fffffffaf60, v_ptr=v_ptr@entry=0x7fffffffaf68, rdmafp_found=rdmafp_found@entry=0x7fffffffaf58, is_blocking=is_blocking@entry=1) at ../src/mpid/ch3/channels/mrail/src/rdma/ch3_read_progress.c:101
#3  0x00002aaaab4a5b58 in MPIDI_CH3I_Progress (is_blocking=is_blocking@entry=1, state=state@entry=0x7fffffffafe4) at ../src/mpid/ch3/channels/mrail/src/rdma/ch3_progress.c:252
#4  0x00002aaaaaff888d in MPIC_Wait (errflag=0x7fffffffb0fc, request_ptr=0x2aaaab853ff8 <MPID_Request_direct+1432>) at ../src/mpi/coll/helper_fns.h:297
#5  MPIC_Sendrecv (sendbuf=0x0, sendcount=0, sendtype=1275068685, sendtag=<optimized out>, recvbuf=0x0, recvcount=0, recvtype=1275068685, recvtag=1, status=<synthetic pointer>, errflag=0x7fffffffb0fc, comm_ptr=0x2aaaab82fa20 <MPID_Comm_builtin>, source=0, dest=0) at ../src/mpi/coll/helper_fns.h:559
#6  MPIR_Pairwise_Barrier_MV2 (comm_ptr=comm_ptr@entry=0x2aaaab82fa20 <MPID_Comm_builtin>, errflag=errflag@entry=0x7fffffffb0fc) at ../src/mpi/coll/barrier_osu.c:86
#7  0x00002aaaaaff922a in MPIR_Barrier_intra_MV2 (comm_ptr=<optimized out>, errflag=0x7fffffffb0fc) at ../src/mpi/coll/barrier_osu.c:446
#8  0x00002aaaaaff9c69 in MPIR_Barrier_MV2 (comm_ptr=<optimized out>, errflag=<optimized out>) at ../src/mpi/coll/barrier_osu.c:470
#9  0x00002aaaaaf70f83 in MPIR_Barrier_impl (comm_ptr=<optimized out>, errflag=errflag@entry=0x7fffffffb0fc) at ../src/mpi/coll/barrier.c:329
#10 0x00002aaaab3e215d in PMPI_Finalize () at ../src/mpi/init/finalize.c:273
#11 0x0000000000401451 in main (argc=<optimized out>, argv=<optimized out>) at bad_mpi.cpp:55
****************************************************************************************************************************************************************

